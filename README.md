# Предварительный анализ задачи определения мошеннических финансовых операций

**Домашнее задание №1**  
**Курс MLOps**  
---

## 1. Формулировка целей

На основе требований заказчика можно сформулировать следующие цели:

1.  **Соблюдение сроков и бюджета.** Разработать и внедрить работающий прототип системы в течение **3 месяцев** с последующим полноценным запуском через **6 месяцев**, уложившись в бюджет **10 млн рублей** (без учета зарплат).
2.  **Снижение финансовых потерь.** Снизить месячный ущерб клиентов от мошеннических операций до уровня, не превышающего **500 тыс. рублей**, чтобы соответствовать показателям конкурентов.
3.  **Обеспечение высокой производительности.** Создать систему, способную обрабатывать пиковую нагрузку в **400 транзакций в секунду**.
4.  **Минимизация ложных срабатываний.**  Для предотвращения оттока клиентов обеспечить долю ошибочно отклоненных легитимных транзакций ниже **5%**.
5.  **Интеграция с текущими процессами.** Обеспечить совместимость системы с существующим форматом данных (CSV-файлы, накапливаемые за период).
6.  **Обеспечение конфиденциальности данных.** Исключить утечку конфиденциальных данных клиентов на всех этапах работы системы, используя безопасные облачные инфраструктуры и практики.

---

## 2. Выбор метрики машинного обучения

Для задач обнаружения мошенничества (аномалий) с сильным дисбалансом классов (легитимных транзакций обычно гораздо больше чем мошеннических) стандартная метрика `Accuracy` неприменима.

### Оптимальной метрикой является `F1-score`, так как:

* Объединяет точность (`Precision`) и полноту (`Recall`)
* Позволяет сбалансировать между собой:
    * Минимизацию ложных отрицаний (пропущенное мошенничество)
    * Минимизацию ложных положительных срабатываний (блокировка легитимных транзакций)
* Критична для бизнес-задачи, где важны оба аспекта

Дополнительно к основной метрике необходимо отслеживать:
* `Precision` для контроля ложных срабатываний
* `Recall` для оценки способности обнаруживать мошенничество
* `ROC-AUC` для общей оценки качества классификации
* Общий месячный ущерб (должен быть < 500 тыс. руб.) и доля отклоненных легитимный транзакций (должна быть < 5%).

---

## 3. Анализ проекта с использованием MISSION Canvas

### Ключевые элементы:

* **Проблема**: рост числа мошеннических операций
* **Решение**: внедрение антифрод-системы на базе ML
* **Целевая аудитория**: клиенты банка, проводящие онлайн-платежи
* **Ценность**: защита средств клиентов от мошенничества
* **Ограничения**:
    * Бюджет: до **10 млн рублей**
    * Сроки: прототипирование – **3 месяца**, полный проект – **6 месяцев**
    * Производительность: не менее **400 транзакций/сек**
    * Ложные срабатывания: не более **5%**
* **Метрики успеха**:
    * Количество предотвращенных мошеннических операций
    * Финансовые потери
    * Процент ложных срабатываний
    * Время обработки транзакции

---


## 4. Декомпозиция системы

Основные компоненты:

### Модуль сбора данных
* Прием транзакций в реальном времени
* Парсинг и валидация входящих данных
* Преобразование в единый формат

### Модуль предобработки данных
* Очистка данных
* Извлечение признаков
* Нормализация данных

### ML-модуль
* Обученная модель. Принимает вектор признаков, возвращает вероятность мошейнеческой транзакции

### Модуль принятия решений
* Применение порога к ответу модели для получения бинарного решения.
* Применение специальных бизнес-правил

### Модуль мониторинга
* Отслеживание метрик
* Логирование

### Пайплайн переобучения модели
* Автоматический сбор новых размеченных данных.
* Периодическое переобучение и валидация модели.
* Автоматизированное развертывание при повышении ключевыъ метрик

---

## 5. Задачи проекта (SMART-формулировки)

### Разработка архитектуры системы (к концу 1-го месяца):
* Создать детальный дизайн системы
* Определить требования к инфраструктуре
* Выбрать технологические решения

### Подготовка датасета (к концу 1-го месяца):
* Собрать и подготовить выборку данных за 3 месяца
* Обеспечить конфиденциальность данных

### Разработка прототипа (к концу 3-го месяца):
* Создать работающий прототип системы
* Достичь базового уровня точности классификации
* Обеспечить обработку минимум 50 транзакций/сек

### Тестирование производительности (этап оценки прототипа):
* Провести нагрузочное тестирование системы
* Достичь целевых показателей производительности
* Оптимизировать пайплайн предсказания

### Внедрение системы мониторинга:
* Разработать систему метрик
* Обеспечить непрерывный мониторинг

## 6. Рекомендации по реализации

* Использовать облачные решения для развертывания
* Применить контейнеризацию (Docker, Kubernetes)
* Внедрить CI/CD pipeline
* Обеспечить шифрование данных
* Реализовать систему ротации ключей доступа
